const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ViewOrder-CBUfltUc.js","assets/index-vQs_jjn0.js","assets/index-CHaxL8qo.css","assets/DeliveryAssignment-DlYbdDDY.js"])))=>i.map(i=>d[i]);
import{g as D,aB as P,j as e,t as S,v as C,w as F,x as y,y as x,z as i,D as _,F as T,r as n,E as j,s as g,B as A,G as v,_ as p,a_ as E}from"./index-vQs_jjn0.js";import{L as N}from"./LoadingOrder-o2u9763r.js";const L=(s,t)=>{const{data:l,isLoading:o,isError:a,error:d}=D({queryKey:["outForDeliveryOrders",s,t],queryFn:()=>P.getForDeliveryOrders(s,t)});return{outForDeliveryOrders:l,isLoading:o,isError:a,error:d}},R=({outForDeliveryOrders:s,handleViewOrder:t,rowsPerPage:l,page:o,handleChangePage:a,handleChangeRowsPerPage:d})=>{var c;return e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"border border-gray-300 rounded-lg shadow-md",children:e.jsxs(C,{size:"small",sx:{tableLayout:"fixed",width:"100%"},children:[e.jsx(F,{children:e.jsx(y,{children:x.orderTableHeads.map((r,h)=>e.jsx(i,{style:x.paymentTableHeadStyle,children:r.label},h))})}),e.jsx(_,{children:(c=s.orders)==null?void 0:c.map(r=>e.jsxs(y,{onClick:()=>t(r.id),className:"cursor-pointer transition duration-200 ease-in-out hover:bg-gray-100",children:[e.jsx(i,{sx:{width:"14%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.referenceNumber}),e.jsx(i,{sx:{width:"14%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.clientUserId?"Registered User":"Guest User"}),e.jsx(i,{style:{width:"16%"},children:r.customerDetails.name}),e.jsx(i,{style:{width:"16%"},children:r.customerDetails.email}),e.jsx(i,{style:{width:"8%"},children:r.netAmount.toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),e.jsx(i,{style:{color:r.orderStatus==="completed"?"green":"red",fontWeight:"bold",width:"8%"},children:r.orderStatus}),e.jsx(i,{style:{width:"12%"},children:new Date(r.createdAt).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"})})]},r.id))})]})}),e.jsx(T,{rowsPerPageOptions:[5,10,25],component:"div",count:s.totalItems,rowsPerPage:l,page:o,onPageChange:a,onRowsPerPageChange:d})]})},V=n.lazy(()=>p(()=>import("./ViewOrder-CBUfltUc.js"),__vite__mapDeps([0,1,2]))),k=n.lazy(()=>p(()=>import("./DeliveryAssignment-DlYbdDDY.js"),__vite__mapDeps([3,1,2]))),H=({orderId:s,handleCloseViewOrder:t})=>{const[l,o]=n.useState(!1),a=()=>o(!1);return s?e.jsxs("div",{children:[e.jsx(j,{FallbackComponent:g,children:e.jsx(n.Suspense,{fallback:e.jsx(N,{}),children:e.jsx(V,{orderId:s,children:e.jsx(A,{fullWidth:!0,variant:"contained",color:"customblue",onClick:()=>o(!0),children:"Assign Delivery Personnel"})})})}),e.jsx(v,{open:l,onClose:a,style:x.delivertAssignmentModalStyle,children:e.jsx(j,{FallbackComponent:g,children:e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading"}),children:e.jsx(k,{orderId:s,handleCloseViewOrder:t})})})})]}):e.jsx("div",{children:"No order id found!"})},z=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[e.jsx(E,{size:48,className:"text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Orders Out For Delivery"}),e.jsx("p",{className:"text-gray-500 max-w-sm mb-6",children:"You have no orders ready for delivery at the moment."})]}),M=()=>{const[s,t]=n.useState(0),[l,o]=n.useState(5),[a,d]=n.useState(""),[c,r]=n.useState(!1),h=()=>{r(!1),d("")},w=(u,f)=>{t(f)},O=u=>{o(parseInt(u.target.value,10)),t(0)},{outForDeliveryOrders:m}=L(s,l),b=u=>{d(u),r(!0)};return e.jsxs("div",{children:[m.orders.length===0?e.jsx(z,{}):e.jsx(R,{outForDeliveryOrders:m,handleViewOrder:b,rowsPerPage:l,page:s,handleChangePage:w,handleChangeRowsPerPage:O}),e.jsx(v,{open:c,onClose:h,style:x.viewOrderModalStyle,children:e.jsx(H,{orderId:a,handleCloseViewOrder:h})})]})};export{M as default};
