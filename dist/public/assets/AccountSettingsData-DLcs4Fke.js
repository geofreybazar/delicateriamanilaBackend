import{u as lt,a as dt,aV as G,aW as Tt,g as jt,x as ht,y as vt,j as f,C as I,A as wt,D as E,aX as Rt,aY as Pt,r as H,f as Ot,aR as Rr}from"./index-D1os0LSF.js";const It=()=>{const{mutateAsync:e,isPending:r,isError:a,error:t,isSuccess:n}=lt({mutationFn:dt.updateUserInfo});return{updateUserInfo:e,isPending:r,isError:a,error:t,isSuccess:n}};var $,Pr;function Et(){if(Pr)return $;Pr=1;function e(){this.__data__=[],this.size=0}return $=e,$}var V,Or;function _t(){if(Or)return V;Or=1;function e(r,a){return r===a||r!==r&&a!==a}return V=e,V}var J,Ir;function U(){if(Ir)return J;Ir=1;var e=_t();function r(a,t){for(var n=a.length;n--;)if(e(a[n][0],t))return n;return-1}return J=r,J}var Y,Er;function Dt(){if(Er)return Y;Er=1;var e=U(),r=Array.prototype,a=r.splice;function t(n){var i=this.__data__,s=e(i,n);if(s<0)return!1;var u=i.length-1;return s==u?i.pop():a.call(i,s,1),--this.size,!0}return Y=t,Y}var X,Dr;function Nt(){if(Dr)return X;Dr=1;var e=U();function r(a){var t=this.__data__,n=e(t,a);return n<0?void 0:t[n][1]}return X=r,X}var Q,Nr;function Lt(){if(Nr)return Q;Nr=1;var e=U();function r(a){return e(this.__data__,a)>-1}return Q=r,Q}var Z,Lr;function Mt(){if(Lr)return Z;Lr=1;var e=U();function r(a,t){var n=this.__data__,i=e(n,a);return i<0?(++this.size,n.push([a,t])):n[i][1]=t,this}return Z=r,Z}var ee,Mr;function F(){if(Mr)return ee;Mr=1;var e=Et(),r=Dt(),a=Nt(),t=Lt(),n=Mt();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=t,i.prototype.set=n,ee=i,ee}var re,Gr;function Gt(){if(Gr)return re;Gr=1;var e=F();function r(){this.__data__=new e,this.size=0}return re=r,re}var ae,Hr;function Ht(){if(Hr)return ae;Hr=1;function e(r){var a=this.__data__,t=a.delete(r);return this.size=a.size,t}return ae=e,ae}var te,Ur;function Ut(){if(Ur)return te;Ur=1;function e(r){return this.__data__.get(r)}return te=e,te}var ne,Fr;function Ft(){if(Fr)return ne;Fr=1;function e(r){return this.__data__.has(r)}return ne=e,ne}var se,Kr;function pt(){if(Kr)return se;Kr=1;var e=typeof G=="object"&&G&&G.Object===Object&&G;return se=e,se}var ie,kr;function O(){if(kr)return ie;kr=1;var e=pt(),r=typeof self=="object"&&self&&self.Object===Object&&self,a=e||r||Function("return this")();return ie=a,ie}var ue,zr;function Tr(){if(zr)return ue;zr=1;var e=O(),r=e.Symbol;return ue=r,ue}var oe,Br;function Kt(){if(Br)return oe;Br=1;var e=Tr(),r=Object.prototype,a=r.hasOwnProperty,t=r.toString,n=e?e.toStringTag:void 0;function i(s){var u=a.call(s,n),o=s[n];try{s[n]=void 0;var c=!0}catch{}var l=t.call(s);return c&&(u?s[n]=o:delete s[n]),l}return oe=i,oe}var ce,Wr;function kt(){if(Wr)return ce;Wr=1;var e=Object.prototype,r=e.toString;function a(t){return r.call(t)}return ce=a,ce}var fe,$r;function K(){if($r)return fe;$r=1;var e=Tr(),r=Kt(),a=kt(),t="[object Null]",n="[object Undefined]",i=e?e.toStringTag:void 0;function s(u){return u==null?u===void 0?n:t:i&&i in Object(u)?r(u):a(u)}return fe=s,fe}var le,Vr;function gt(){if(Vr)return le;Vr=1;function e(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}return le=e,le}var de,Jr;function yt(){if(Jr)return de;Jr=1;var e=K(),r=gt(),a="[object AsyncFunction]",t="[object Function]",n="[object GeneratorFunction]",i="[object Proxy]";function s(u){if(!r(u))return!1;var o=e(u);return o==t||o==n||o==a||o==i}return de=s,de}var he,Yr;function zt(){if(Yr)return he;Yr=1;var e=O(),r=e["__core-js_shared__"];return he=r,he}var ve,Xr;function Bt(){if(Xr)return ve;Xr=1;var e=zt(),r=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function a(t){return!!r&&r in t}return ve=a,ve}var _e,Qr;function bt(){if(Qr)return _e;Qr=1;var e=Function.prototype,r=e.toString;function a(t){if(t!=null){try{return r.call(t)}catch{}try{return t+""}catch{}}return""}return _e=a,_e}var pe,Zr;function Wt(){if(Zr)return pe;Zr=1;var e=yt(),r=Bt(),a=gt(),t=bt(),n=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,o=s.toString,c=u.hasOwnProperty,l=RegExp("^"+o.call(c).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(v){if(!a(v)||r(v))return!1;var q=e(v)?l:i;return q.test(t(v))}return pe=d,pe}var ge,ea;function $t(){if(ea)return ge;ea=1;function e(r,a){return r==null?void 0:r[a]}return ge=e,ge}var ye,ra;function D(){if(ra)return ye;ra=1;var e=Wt(),r=$t();function a(t,n){var i=r(t,n);return e(i)?i:void 0}return ye=a,ye}var be,aa;function jr(){if(aa)return be;aa=1;var e=D(),r=O(),a=e(r,"Map");return be=a,be}var me,ta;function k(){if(ta)return me;ta=1;var e=D(),r=e(Object,"create");return me=r,me}var qe,na;function Vt(){if(na)return qe;na=1;var e=k();function r(){this.__data__=e?e(null):{},this.size=0}return qe=r,qe}var Ae,sa;function Jt(){if(sa)return Ae;sa=1;function e(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}return Ae=e,Ae}var xe,ia;function Yt(){if(ia)return xe;ia=1;var e=k(),r="__lodash_hash_undefined__",a=Object.prototype,t=a.hasOwnProperty;function n(i){var s=this.__data__;if(e){var u=s[i];return u===r?void 0:u}return t.call(s,i)?s[i]:void 0}return xe=n,xe}var Ce,ua;function Xt(){if(ua)return Ce;ua=1;var e=k(),r=Object.prototype,a=r.hasOwnProperty;function t(n){var i=this.__data__;return e?i[n]!==void 0:a.call(i,n)}return Ce=t,Ce}var Se,oa;function Qt(){if(oa)return Se;oa=1;var e=k(),r="__lodash_hash_undefined__";function a(t,n){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=e&&n===void 0?r:n,this}return Se=a,Se}var Te,ca;function Zt(){if(ca)return Te;ca=1;var e=Vt(),r=Jt(),a=Yt(),t=Xt(),n=Qt();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=t,i.prototype.set=n,Te=i,Te}var je,fa;function en(){if(fa)return je;fa=1;var e=Zt(),r=F(),a=jr();function t(){this.size=0,this.__data__={hash:new e,map:new(a||r),string:new e}}return je=t,je}var we,la;function rn(){if(la)return we;la=1;function e(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}return we=e,we}var Re,da;function z(){if(da)return Re;da=1;var e=rn();function r(a,t){var n=a.__data__;return e(t)?n[typeof t=="string"?"string":"hash"]:n.map}return Re=r,Re}var Pe,ha;function an(){if(ha)return Pe;ha=1;var e=z();function r(a){var t=e(this,a).delete(a);return this.size-=t?1:0,t}return Pe=r,Pe}var Oe,va;function tn(){if(va)return Oe;va=1;var e=z();function r(a){return e(this,a).get(a)}return Oe=r,Oe}var Ie,_a;function nn(){if(_a)return Ie;_a=1;var e=z();function r(a){return e(this,a).has(a)}return Ie=r,Ie}var Ee,pa;function sn(){if(pa)return Ee;pa=1;var e=z();function r(a,t){var n=e(this,a),i=n.size;return n.set(a,t),this.size+=n.size==i?0:1,this}return Ee=r,Ee}var De,ga;function mt(){if(ga)return De;ga=1;var e=en(),r=an(),a=tn(),t=nn(),n=sn();function i(s){var u=-1,o=s==null?0:s.length;for(this.clear();++u<o;){var c=s[u];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=r,i.prototype.get=a,i.prototype.has=t,i.prototype.set=n,De=i,De}var Ne,ya;function un(){if(ya)return Ne;ya=1;var e=F(),r=jr(),a=mt(),t=200;function n(i,s){var u=this.__data__;if(u instanceof e){var o=u.__data__;if(!r||o.length<t-1)return o.push([i,s]),this.size=++u.size,this;u=this.__data__=new a(o)}return u.set(i,s),this.size=u.size,this}return Ne=n,Ne}var Le,ba;function on(){if(ba)return Le;ba=1;var e=F(),r=Gt(),a=Ht(),t=Ut(),n=Ft(),i=un();function s(u){var o=this.__data__=new e(u);this.size=o.size}return s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=t,s.prototype.has=n,s.prototype.set=i,Le=s,Le}var Me,ma;function cn(){if(ma)return Me;ma=1;var e="__lodash_hash_undefined__";function r(a){return this.__data__.set(a,e),this}return Me=r,Me}var Ge,qa;function fn(){if(qa)return Ge;qa=1;function e(r){return this.__data__.has(r)}return Ge=e,Ge}var He,Aa;function ln(){if(Aa)return He;Aa=1;var e=mt(),r=cn(),a=fn();function t(n){var i=-1,s=n==null?0:n.length;for(this.__data__=new e;++i<s;)this.add(n[i])}return t.prototype.add=t.prototype.push=r,t.prototype.has=a,He=t,He}var Ue,xa;function dn(){if(xa)return Ue;xa=1;function e(r,a){for(var t=-1,n=r==null?0:r.length;++t<n;)if(a(r[t],t,r))return!0;return!1}return Ue=e,Ue}var Fe,Ca;function hn(){if(Ca)return Fe;Ca=1;function e(r,a){return r.has(a)}return Fe=e,Fe}var Ke,Sa;function qt(){if(Sa)return Ke;Sa=1;var e=ln(),r=dn(),a=hn(),t=1,n=2;function i(s,u,o,c,l,d){var v=o&t,q=s.length,x=u.length;if(q!=x&&!(v&&x>q))return!1;var A=d.get(s),g=d.get(u);if(A&&g)return A==u&&g==s;var y=-1,h=!0,C=o&n?new e:void 0;for(d.set(s,u),d.set(u,s);++y<q;){var b=s[y],S=u[y];if(c)var m=v?c(S,b,y,u,s,d):c(b,S,y,s,u,d);if(m!==void 0){if(m)continue;h=!1;break}if(C){if(!r(u,function(_,T){if(!a(C,T)&&(b===_||l(b,_,o,c,d)))return C.push(T)})){h=!1;break}}else if(!(b===S||l(b,S,o,c,d))){h=!1;break}}return d.delete(s),d.delete(u),h}return Ke=i,Ke}var ke,Ta;function vn(){if(Ta)return ke;Ta=1;var e=O(),r=e.Uint8Array;return ke=r,ke}var ze,ja;function _n(){if(ja)return ze;ja=1;function e(r){var a=-1,t=Array(r.size);return r.forEach(function(n,i){t[++a]=[i,n]}),t}return ze=e,ze}var Be,wa;function pn(){if(wa)return Be;wa=1;function e(r){var a=-1,t=Array(r.size);return r.forEach(function(n){t[++a]=n}),t}return Be=e,Be}var We,Ra;function gn(){if(Ra)return We;Ra=1;var e=Tr(),r=vn(),a=_t(),t=qt(),n=_n(),i=pn(),s=1,u=2,o="[object Boolean]",c="[object Date]",l="[object Error]",d="[object Map]",v="[object Number]",q="[object RegExp]",x="[object Set]",A="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",h="[object DataView]",C=e?e.prototype:void 0,b=C?C.valueOf:void 0;function S(m,_,T,j,R,p,P){switch(T){case h:if(m.byteLength!=_.byteLength||m.byteOffset!=_.byteOffset)return!1;m=m.buffer,_=_.buffer;case y:return!(m.byteLength!=_.byteLength||!p(new r(m),new r(_)));case o:case c:case v:return a(+m,+_);case l:return m.name==_.name&&m.message==_.message;case q:case A:return m==_+"";case d:var w=n;case x:var W=j&s;if(w||(w=i),m.size!=_.size&&!W)return!1;var M=P.get(m);if(M)return M==_;j|=u,P.set(m,_);var St=t(w(m),w(_),j,R,p,P);return P.delete(m),St;case g:if(b)return b.call(m)==b.call(_)}return!1}return We=S,We}var $e,Pa;function yn(){if(Pa)return $e;Pa=1;function e(r,a){for(var t=-1,n=a.length,i=r.length;++t<n;)r[i+t]=a[t];return r}return $e=e,$e}var Ve,Oa;function wr(){if(Oa)return Ve;Oa=1;var e=Array.isArray;return Ve=e,Ve}var Je,Ia;function bn(){if(Ia)return Je;Ia=1;var e=yn(),r=wr();function a(t,n,i){var s=n(t);return r(t)?s:e(s,i(t))}return Je=a,Je}var Ye,Ea;function mn(){if(Ea)return Ye;Ea=1;function e(r,a){for(var t=-1,n=r==null?0:r.length,i=0,s=[];++t<n;){var u=r[t];a(u,t,r)&&(s[i++]=u)}return s}return Ye=e,Ye}var Xe,Da;function qn(){if(Da)return Xe;Da=1;function e(){return[]}return Xe=e,Xe}var Qe,Na;function An(){if(Na)return Qe;Na=1;var e=mn(),r=qn(),a=Object.prototype,t=a.propertyIsEnumerable,n=Object.getOwnPropertySymbols,i=n?function(s){return s==null?[]:(s=Object(s),e(n(s),function(u){return t.call(s,u)}))}:r;return Qe=i,Qe}var Ze,La;function xn(){if(La)return Ze;La=1;function e(r,a){for(var t=-1,n=Array(r);++t<r;)n[t]=a(t);return n}return Ze=e,Ze}var er,Ma;function B(){if(Ma)return er;Ma=1;function e(r){return r!=null&&typeof r=="object"}return er=e,er}var rr,Ga;function Cn(){if(Ga)return rr;Ga=1;var e=K(),r=B(),a="[object Arguments]";function t(n){return r(n)&&e(n)==a}return rr=t,rr}var ar,Ha;function Sn(){if(Ha)return ar;Ha=1;var e=Cn(),r=B(),a=Object.prototype,t=a.hasOwnProperty,n=a.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(s){return r(s)&&t.call(s,"callee")&&!n.call(s,"callee")};return ar=i,ar}var N={exports:{}},tr,Ua;function Tn(){if(Ua)return tr;Ua=1;function e(){return!1}return tr=e,tr}N.exports;var Fa;function At(){return Fa||(Fa=1,function(e,r){var a=O(),t=Tn(),n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,u=s?a.Buffer:void 0,o=u?u.isBuffer:void 0,c=o||t;e.exports=c}(N,N.exports)),N.exports}var nr,Ka;function jn(){if(Ka)return nr;Ka=1;var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function a(t,n){var i=typeof t;return n=n??e,!!n&&(i=="number"||i!="symbol"&&r.test(t))&&t>-1&&t%1==0&&t<n}return nr=a,nr}var sr,ka;function xt(){if(ka)return sr;ka=1;var e=9007199254740991;function r(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=e}return sr=r,sr}var ir,za;function wn(){if(za)return ir;za=1;var e=K(),r=xt(),a=B(),t="[object Arguments]",n="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",o="[object Function]",c="[object Map]",l="[object Number]",d="[object Object]",v="[object RegExp]",q="[object Set]",x="[object String]",A="[object WeakMap]",g="[object ArrayBuffer]",y="[object DataView]",h="[object Float32Array]",C="[object Float64Array]",b="[object Int8Array]",S="[object Int16Array]",m="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",j="[object Uint16Array]",R="[object Uint32Array]",p={};p[h]=p[C]=p[b]=p[S]=p[m]=p[_]=p[T]=p[j]=p[R]=!0,p[t]=p[n]=p[g]=p[i]=p[y]=p[s]=p[u]=p[o]=p[c]=p[l]=p[d]=p[v]=p[q]=p[x]=p[A]=!1;function P(w){return a(w)&&r(w.length)&&!!p[e(w)]}return ir=P,ir}var ur,Ba;function Rn(){if(Ba)return ur;Ba=1;function e(r){return function(a){return r(a)}}return ur=e,ur}var L={exports:{}};L.exports;var Wa;function Pn(){return Wa||(Wa=1,function(e,r){var a=pt(),t=r&&!r.nodeType&&r,n=t&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===t,s=i&&a.process,u=function(){try{var o=n&&n.require&&n.require("util").types;return o||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u}(L,L.exports)),L.exports}var or,$a;function Ct(){if($a)return or;$a=1;var e=wn(),r=Rn(),a=Pn(),t=a&&a.isTypedArray,n=t?r(t):e;return or=n,or}var cr,Va;function On(){if(Va)return cr;Va=1;var e=xn(),r=Sn(),a=wr(),t=At(),n=jn(),i=Ct(),s=Object.prototype,u=s.hasOwnProperty;function o(c,l){var d=a(c),v=!d&&r(c),q=!d&&!v&&t(c),x=!d&&!v&&!q&&i(c),A=d||v||q||x,g=A?e(c.length,String):[],y=g.length;for(var h in c)(l||u.call(c,h))&&!(A&&(h=="length"||q&&(h=="offset"||h=="parent")||x&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||n(h,y)))&&g.push(h);return g}return cr=o,cr}var fr,Ja;function In(){if(Ja)return fr;Ja=1;var e=Object.prototype;function r(a){var t=a&&a.constructor,n=typeof t=="function"&&t.prototype||e;return a===n}return fr=r,fr}var lr,Ya;function En(){if(Ya)return lr;Ya=1;function e(r,a){return function(t){return r(a(t))}}return lr=e,lr}var dr,Xa;function Dn(){if(Xa)return dr;Xa=1;var e=En(),r=e(Object.keys,Object);return dr=r,dr}var hr,Qa;function Nn(){if(Qa)return hr;Qa=1;var e=In(),r=Dn(),a=Object.prototype,t=a.hasOwnProperty;function n(i){if(!e(i))return r(i);var s=[];for(var u in Object(i))t.call(i,u)&&u!="constructor"&&s.push(u);return s}return hr=n,hr}var vr,Za;function Ln(){if(Za)return vr;Za=1;var e=yt(),r=xt();function a(t){return t!=null&&r(t.length)&&!e(t)}return vr=a,vr}var _r,et;function Mn(){if(et)return _r;et=1;var e=On(),r=Nn(),a=Ln();function t(n){return a(n)?e(n):r(n)}return _r=t,_r}var pr,rt;function Gn(){if(rt)return pr;rt=1;var e=bn(),r=An(),a=Mn();function t(n){return e(n,a,r)}return pr=t,pr}var gr,at;function Hn(){if(at)return gr;at=1;var e=Gn(),r=1,a=Object.prototype,t=a.hasOwnProperty;function n(i,s,u,o,c,l){var d=u&r,v=e(i),q=v.length,x=e(s),A=x.length;if(q!=A&&!d)return!1;for(var g=q;g--;){var y=v[g];if(!(d?y in s:t.call(s,y)))return!1}var h=l.get(i),C=l.get(s);if(h&&C)return h==s&&C==i;var b=!0;l.set(i,s),l.set(s,i);for(var S=d;++g<q;){y=v[g];var m=i[y],_=s[y];if(o)var T=d?o(_,m,y,s,i,l):o(m,_,y,i,s,l);if(!(T===void 0?m===_||c(m,_,u,o,l):T)){b=!1;break}S||(S=y=="constructor")}if(b&&!S){var j=i.constructor,R=s.constructor;j!=R&&"constructor"in i&&"constructor"in s&&!(typeof j=="function"&&j instanceof j&&typeof R=="function"&&R instanceof R)&&(b=!1)}return l.delete(i),l.delete(s),b}return gr=n,gr}var yr,tt;function Un(){if(tt)return yr;tt=1;var e=D(),r=O(),a=e(r,"DataView");return yr=a,yr}var br,nt;function Fn(){if(nt)return br;nt=1;var e=D(),r=O(),a=e(r,"Promise");return br=a,br}var mr,st;function Kn(){if(st)return mr;st=1;var e=D(),r=O(),a=e(r,"Set");return mr=a,mr}var qr,it;function kn(){if(it)return qr;it=1;var e=D(),r=O(),a=e(r,"WeakMap");return qr=a,qr}var Ar,ut;function zn(){if(ut)return Ar;ut=1;var e=Un(),r=jr(),a=Fn(),t=Kn(),n=kn(),i=K(),s=bt(),u="[object Map]",o="[object Object]",c="[object Promise]",l="[object Set]",d="[object WeakMap]",v="[object DataView]",q=s(e),x=s(r),A=s(a),g=s(t),y=s(n),h=i;return(e&&h(new e(new ArrayBuffer(1)))!=v||r&&h(new r)!=u||a&&h(a.resolve())!=c||t&&h(new t)!=l||n&&h(new n)!=d)&&(h=function(C){var b=i(C),S=b==o?C.constructor:void 0,m=S?s(S):"";if(m)switch(m){case q:return v;case x:return u;case A:return c;case g:return l;case y:return d}return b}),Ar=h,Ar}var xr,ot;function Bn(){if(ot)return xr;ot=1;var e=on(),r=qt(),a=gn(),t=Hn(),n=zn(),i=wr(),s=At(),u=Ct(),o=1,c="[object Arguments]",l="[object Array]",d="[object Object]",v=Object.prototype,q=v.hasOwnProperty;function x(A,g,y,h,C,b){var S=i(A),m=i(g),_=S?l:n(A),T=m?l:n(g);_=_==c?d:_,T=T==c?d:T;var j=_==d,R=T==d,p=_==T;if(p&&s(A)){if(!s(g))return!1;S=!0,j=!1}if(p&&!j)return b||(b=new e),S||u(A)?r(A,g,y,h,C,b):a(A,g,_,y,h,C,b);if(!(y&o)){var P=j&&q.call(A,"__wrapped__"),w=R&&q.call(g,"__wrapped__");if(P||w){var W=P?A.value():A,M=w?g.value():g;return b||(b=new e),C(W,M,y,h,b)}}return p?(b||(b=new e),t(A,g,y,h,C,b)):!1}return xr=x,xr}var Cr,ct;function Wn(){if(ct)return Cr;ct=1;var e=Bn(),r=B();function a(t,n,i,s,u){return t===n?!0:t==null||n==null||!r(t)&&!r(n)?t!==t&&n!==n:e(t,n,i,s,a,u)}return Cr=a,Cr}var Sr,ft;function $n(){if(ft)return Sr;ft=1;var e=Wn();function r(a,t){return e(a,t)}return Sr=r,Sr}var Vn=$n();const Jn=Tt(Vn),Yn=({loggedInUser:e,onCancel:r,handleOpenSnackbar:a})=>{var v,q,x,A,g;const t=jt(),{updateUserInfo:n,isPending:i,error:s}=It(),u={firstname:e.firstname,middlename:e.middlename,lastname:e.lastname,email:e.email,phoneNumber:e.phoneNumber},{register:o,handleSubmit:c,formState:{errors:l}}=ht({resolver:vt(Rt),defaultValues:u}),d=async y=>{if(Jn(y,u)){r();return}await n(y),await t.invalidateQueries({queryKey:["LoggedInUser"]}),a(),r()};return f.jsxs("form",{onSubmit:c(d),className:"w-1/3 py-2 px-5 rounded-md shadow-md border border-gray-200 flex flex-col gap-3",children:[f.jsx("p",{className:"text-xl pb-2",children:"Edit User Information"}),f.jsx(I,{label:"First Name",size:"small",variant:"outlined",...o("firstname"),error:!!l.firstname,helperText:(v=l.firstname)==null?void 0:v.message}),f.jsx(I,{label:"Middle Name",size:"small",variant:"outlined",...o("middlename")}),f.jsx(I,{label:"Last Name",size:"small",variant:"outlined",...o("lastname"),error:!!l.lastname,helperText:(q=l.lastname)==null?void 0:q.message}),f.jsx(I,{label:"Email Address",size:"small",variant:"outlined",type:"email",...o("email"),error:!!l.email,helperText:(x=l.email)==null?void 0:x.message}),f.jsx(I,{label:"Contact Number",size:"small",variant:"outlined",...o("phoneNumber"),error:!!l.phoneNumber,helperText:(A=l.phoneNumber)==null?void 0:A.message}),s instanceof wt&&s.response?f.jsx("p",{className:"text-center capitalize text-red-500",children:((g=s.response.data)==null?void 0:g.error)||"An error occurred"}):s&&f.jsx("p",{className:"text-center capitalize text-red-500",children:"Something went wrong"}),f.jsxs("div",{className:"w-full flex justify-center gap-2 pt-2",children:[f.jsx(E,{variant:"contained",color:"customorange",type:"submit",loading:i,loadingPosition:"start",children:"Save"}),f.jsx(E,{variant:"contained",color:"error",onClick:r,children:"Cancel"})]})]})},Xn=({loggedInUser:e})=>f.jsxs("div",{className:"w-fit py-2 px-5 rounded-md shadow-md border border-gray-200",children:[f.jsx("p",{className:"text-xl pb-2",children:"User Information"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsxs("p",{children:["First Name:"," ",f.jsx("span",{className:"text-lg font-semibold",children:e.firstname})]}),f.jsxs("p",{children:["Middle Name:"," ",f.jsx("span",{className:"text-lg font-semibold",children:e.middlename})]}),f.jsxs("p",{children:["last Name:"," ",f.jsx("span",{className:"text-lg font-semibold",children:e.lastname})]}),f.jsxs("p",{children:["Email address:"," ",f.jsx("span",{className:"text-lg font-semibold",children:e.email})]}),f.jsxs("p",{children:["Contact Number:"," ",f.jsx("span",{className:"text-lg font-semibold",children:e.phoneNumber})]}),f.jsxs("p",{children:["User role:"," ",f.jsx("span",{className:"text-lg font-semibold",children:e.role})]})]})]}),Qn=()=>{const{mutateAsync:e,isPending:r,isError:a,error:t,isSuccess:n}=lt({mutationFn:dt.changePassword});return{changePassword:e,isPending:r,isError:a,error:t,isSuccess:n}},Zn=({onCancel:e,handleOpenSnackbar:r})=>{var c,l,d;const{changePassword:a,isPending:t}=Qn(),{register:n,handleSubmit:i,setError:s,formState:{errors:u}}=ht({resolver:vt(Pt)}),o=async v=>{var q,x;if(v.newPassword!==v.confirmPassword){s("root",{message:"Passwords do not match"});return}if(v.newPassword===v.currentPassword){s("root",{message:"The new password must be different from the current password"});return}try{await a(v),r(),e()}catch(A){s("root",{message:((x=(q=A.response)==null?void 0:q.data)==null?void 0:x.error)||"An unexpected error occurred"})}};return f.jsxs("form",{onSubmit:i(o),className:"flex flex-col w-1/3 gap-2",children:[f.jsx(I,{label:"Current password",size:"small",type:"password",variant:"outlined",...n("currentPassword"),error:!!u.currentPassword,helperText:(c=u.currentPassword)==null?void 0:c.message}),f.jsx(I,{label:"Enter new password",size:"small",type:"password",variant:"outlined",...n("newPassword"),error:!!u.newPassword,helperText:(l=u.newPassword)==null?void 0:l.message}),f.jsx(I,{label:"Confirm password",size:"small",type:"password",variant:"outlined",...n("confirmPassword"),error:!!u.confirmPassword,helperText:(d=u.confirmPassword)==null?void 0:d.message}),u.root&&f.jsx("div",{className:"text-center text-red-600 ",children:u.root.message}),f.jsxs("div",{className:"w-full flex justify-center gap-2 pt-2",children:[f.jsx(E,{variant:"contained",color:"customorange",type:"submit",loading:t,loadingPosition:"start",children:"Save"}),f.jsx(E,{variant:"contained",color:"error",onClick:e,children:"Cancel"})]})]})},rs=()=>{const[e,r]=H.useState(!1),[a,t]=H.useState(!1),n=(v,q)=>{q!=="clickaway"&&(r(!1),t(!1))},i=()=>r(!0),s=()=>t(!0),[u,o]=H.useState(!1),[c,l]=H.useState(!1),{loggedInUser:d}=Ot();return f.jsxs("div",{children:[u?f.jsx("div",{className:"p-5 gap-5",children:f.jsx(Yn,{loggedInUser:d,onCancel:()=>o(!1),handleOpenSnackbar:i})}):c?f.jsx("div",{className:"p-5 gap-5",children:f.jsx(Zn,{onCancel:()=>l(!1),handleOpenSnackbar:s})}):f.jsxs("div",{className:"p-5 flex items-center gap-5",children:[f.jsx(Xn,{loggedInUser:d}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx(E,{variant:"contained",color:"customorange",onClick:()=>o(!0),children:"Edit User Information"}),f.jsx(E,{variant:"contained",color:"customorange",onClick:()=>l(!0),children:"Change Password"})]})]}),f.jsx(Rr,{openState:e,closefunction:n,message:"Your user information has been updated successfully"}),f.jsx(Rr,{openState:a,closefunction:n,message:"Your password has been changed successfully"})]})};export{rs as default};
