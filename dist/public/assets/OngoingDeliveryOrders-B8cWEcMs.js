const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ViewOrder-Cqs-B3Gk.js","assets/index-D1os0LSF.js","assets/index-DxYFQp6E.css"])))=>i.map(i=>d[i]);
import{s as p,a$ as O,j as e,bc as b,T as P,k as f,l as S,m,v as x,n as i,o as D,q as R,by as T,K as C,L as N,r as o,_,P as L}from"./index-D1os0LSF.js";import{L as E}from"./LoadingOrder-C16IVXKQ.js";const V=(n,s)=>{const{data:t,isLoading:a,isError:d,error:l}=p({queryKey:["ongoingdelivery",n,s],queryFn:()=>O.getOngoingDeliveryOrders(n,s)});return{ongoingDeliveryOrders:t,isLoading:a,isError:d,error:l}},H=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[e.jsx(b,{size:48,className:"text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Ongoing Delivery Orders"}),e.jsx("p",{className:"text-gray-500 max-w-sm mb-6",children:"You currently have no ongoing delivery orders."})]}),k=({ongoingDeliveryOrders:n,handleViewOrder:s,rowsPerPage:t,page:a,handleChangePage:d,handleChangeRowsPerPage:l})=>{var c;return e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"border border-gray-300 rounded-lg shadow-md",children:e.jsxs(f,{size:"small",sx:{tableLayout:"fixed",width:"100%"},children:[e.jsx(S,{children:e.jsx(m,{children:x.orderTableHeads.map((r,h)=>e.jsx(i,{style:x.paymentTableHeadStyle,children:r.label},h))})}),e.jsx(D,{children:(c=n.orders)==null?void 0:c.map(r=>e.jsxs(m,{onClick:()=>s(r.id),className:"cursor-pointer transition duration-200 ease-in-out hover:bg-gray-100",children:[e.jsx(i,{sx:{width:"14%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.referenceNumber}),e.jsx(i,{sx:{width:"14%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.clientUserId?"Registered User":"Guest User"}),e.jsx(i,{style:{width:"16%"},children:r.customerDetails.name}),e.jsx(i,{style:{width:"16%"},children:r.customerDetails.email}),e.jsx(i,{style:{width:"8%"},children:r.netAmount.toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),e.jsx(i,{style:{color:r.orderStatus==="completed"?"green":"red",fontWeight:"bold",width:"8%"},children:r.orderStatus}),e.jsx(i,{style:{width:"12%"},children:new Date(r.createdAt).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"})})]},r.id))})]})}),e.jsx(R,{rowsPerPageOptions:[5,10,25],component:"div",count:n.totalItems,rowsPerPage:t,page:a,onPageChange:d,onRowsPerPageChange:l})]})},I=o.lazy(()=>_(()=>import("./ViewOrder-Cqs-B3Gk.js"),__vite__mapDeps([0,1,2]))),A=({orderId:n})=>{const{order:s}=T(n),t=s.deliveryRider?`${s.deliveryRider.firstname} ${s.deliveryRider.middlename[0]}. ${s.deliveryRider.lastname}`:"No rider assigned";return e.jsx("div",{children:e.jsx(C,{FallbackComponent:N,children:e.jsx(o.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(I,{orderId:n,deliveryRider:t})})})})},q=()=>{const[n,s]=o.useState(0),[t,a]=o.useState(5),[d,l]=o.useState(""),[c,r]=o.useState(!1),h=()=>{r(!1),l("")},u=(g,w)=>{s(w)},j=g=>{a(parseInt(g.target.value,10)),s(0)},{ongoingDeliveryOrders:y}=V(n,t),v=g=>{l(g),r(!0)};return e.jsxs("div",{children:[y.orders.length===0?e.jsx(H,{}):e.jsx(k,{ongoingDeliveryOrders:y,handleViewOrder:v,rowsPerPage:t,page:n,handleChangePage:u,handleChangeRowsPerPage:j}),e.jsx(L,{open:c,onClose:h,style:x.viewOrderModalStyle,children:e.jsx(A,{orderId:d})})]})};export{q as default};
