const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Headers-SAJlw0v8.js","assets/index-D1os0LSF.js","assets/index-DxYFQp6E.css","assets/PaymentService-DkewWTMX.js"])))=>i.map(i=>d[i]);
import{s as j,j as e,b as w,r as d,K as P,L as v,T as f,k as N,l as S,m as g,v as T,n as r,o as _,q as C,_ as L}from"./index-D1os0LSF.js";import{P as H}from"./PaymentService-DkewWTMX.js";const k=(l,t)=>{const{data:o,isLoading:c,isError:m,error:x}=j({queryKey:["payments",l,t],queryFn:()=>H.getPayments(l,t)});return{payments:o,isLoading:c,isError:m,error:x}},E=()=>e.jsx("div",{className:"flex flex-col mb-6 gap-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-grow",children:[...Array(4)].map((l,t)=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3"}),e.jsx("div",{className:"h-6 w-32 bg-gray-300 rounded"})]},t))})}),F=()=>e.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center border border-gray-200 rounded-2xl shadow-sm p-10 bg-white text-center space-y-4 max-w-md mx-auto",children:[e.jsx("div",{className:"bg-gray-100 p-4 rounded-full"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"No Payments Found"}),e.jsx("p",{className:"text-gray-500 text-sm max-w-sm",children:"There are no payment records in the system at the moment."})]}),R=d.lazy(()=>L(()=>import("./Headers-SAJlw0v8.js"),__vite__mapDeps([0,1,2,3]))),A=()=>{var u;const l=w(),[t,o]=d.useState(0),[c,m]=d.useState(5),x=(s,n)=>{o(n)},p=s=>{m(parseInt(s.target.value,10)),o(0)},{payments:y}=k(t,c),b=s=>{l(`/payments/viewpaymentdetail/${s}`)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{FallbackComponent:v,children:e.jsx(d.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(R,{})})}),e.jsx("div",{children:y.payments.length===0?e.jsx(F,{}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"border border-gray-300 rounded-lg shadow-md",children:e.jsxs(N,{size:"small",sx:{tableLayout:"fixed",width:"100%"},children:[e.jsx(S,{children:e.jsx(g,{children:T.paymentTableHeads.map((s,n)=>e.jsx(r,{style:s.style,children:s.label},n))})}),e.jsx(_,{children:(u=y.payments)==null?void 0:u.map(s=>{var i,h;const n=s.data.data.attributes.data.attributes,a=n.payments[0].attributes;return e.jsxs(g,{onClick:()=>b(s.id),className:"cursor-pointer transition duration-200 ease-in-out hover:bg-gray-100",children:[e.jsx(r,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.payments[0].id}),e.jsx(r,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.reference_number}),e.jsx(r,{children:a.billing.name}),e.jsx(r,{children:(a.amount/100).toLocaleString("en-PH",{style:"currency",currency:a.currency})}),e.jsx(r,{style:{color:a.status==="paid"?"green":"red",fontWeight:"bold"},children:a.status}),e.jsx(r,{children:`${((h=(i=a.source.brand)==null?void 0:i.toUpperCase)==null?void 0:h.call(i))||a.source.type} •••• ${a.source.last4}`}),e.jsx(r,{children:new Date(s.createdAt).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"})}),e.jsx(r,{children:(a.fee/100).toLocaleString("en-PH",{style:"currency",currency:a.currency})}),e.jsx(r,{children:(a.net_amount/100).toLocaleString("en-PH",{style:"currency",currency:a.currency})})]},s.id)})})]})}),e.jsx(C,{rowsPerPageOptions:[5,10,25],component:"div",count:y.totalItems,rowsPerPage:c,page:t,onPageChange:x,onRowsPerPageChange:p})]})})]})};export{A as default};
