const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ViewOrder-Dfxt7iCV.js","assets/index-BwDYrgBi.js","assets/index-zMuzzzx4.css","assets/DeliveryAssignment-Cq5n2hFV.js"])))=>i.map(i=>d[i]);
import{g as S,aC as P,j as e,t as C,v as F,w as _,x as g,y as u,z as a,D as N,F as A,q as T,be as m,r as n,E as j,s as v,B as E,G as p,_ as w,a_ as L}from"./index-BwDYrgBi.js";import{L as k}from"./LoadingOrder-c8jTzEJG.js";const R=(s,t)=>{const{data:l,isLoading:o,isError:i,error:d}=S({queryKey:["outForDeliveryOrders",s,t],queryFn:()=>P.getForDeliveryOrders(s,t)});return{outForDeliveryOrders:l,isLoading:o,isError:i,error:d}},V=({outForDeliveryOrders:s,handleViewOrder:t,rowsPerPage:l,page:o,handleChangePage:i,handleChangeRowsPerPage:d})=>{var c;return e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"border border-gray-300 rounded-lg shadow-md",children:e.jsxs(F,{size:"small",sx:{tableLayout:"fixed",width:"100%"},children:[e.jsx(_,{children:e.jsx(g,{children:u.orderTableHeads.map((r,h)=>e.jsx(a,{style:u.paymentTableHeadStyle,children:r.label},h))})}),e.jsx(N,{children:(c=s.orders)==null?void 0:c.map(r=>e.jsxs(g,{onClick:()=>t(r.id),className:"cursor-pointer transition duration-200 ease-in-out hover:bg-gray-100",children:[e.jsx(a,{sx:{width:"14%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.referenceNumber}),e.jsx(a,{sx:{width:"14%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.clientUserId?"Registered User":"Guest User"}),e.jsx(a,{style:{width:"16%"},children:r.customerDetails.name}),e.jsx(a,{style:{width:"16%"},children:r.customerDetails.email}),e.jsx(a,{style:{width:"8%"},children:r.netAmount.toLocaleString("en-PH",{style:"currency",currency:"PHP"})}),e.jsx(a,{style:{color:r.orderStatus==="completed"?"green":"red",fontWeight:"bold",width:"8%"},children:r.orderStatus}),e.jsx(a,{style:{width:"12%"},children:new Date(r.createdAt).toLocaleString("en-PH",{dateStyle:"medium",timeStyle:"short"})})]},r.id))})]})}),e.jsx(A,{rowsPerPageOptions:[5,10,25],component:"div",count:s.totalItems,rowsPerPage:l,page:o,onPageChange:i,onRowsPerPageChange:d})]})},H=()=>e.jsxs(T,{className:"p-6 flex flex-col gap-4",children:[e.jsx(m,{variant:"text",width:180,height:28}),e.jsx(m,{variant:"rectangular",width:"100%",height:48,className:"rounded-md"}),e.jsx(m,{variant:"rectangular",width:"100%",height:40,className:"rounded-md"})]}),z=n.lazy(()=>w(()=>import("./ViewOrder-Dfxt7iCV.js"),__vite__mapDeps([0,1,2]))),B=n.lazy(()=>w(()=>import("./DeliveryAssignment-Cq5n2hFV.js"),__vite__mapDeps([3,1,2]))),I=({orderId:s,handleCloseViewOrder:t})=>{const[l,o]=n.useState(!1),i=()=>o(!1);return s?e.jsxs("div",{children:[e.jsx(j,{FallbackComponent:v,children:e.jsx(n.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(z,{orderId:s,children:e.jsx(E,{fullWidth:!0,variant:"contained",color:"customblue",onClick:()=>o(!0),children:"Assign Delivery Personnel"})})})}),e.jsx(p,{open:l,onClose:i,style:u.delivertAssignmentModalStyle,children:e.jsx(j,{FallbackComponent:v,children:e.jsx(n.Suspense,{fallback:e.jsx(H,{}),children:e.jsx(B,{orderId:s,handleCloseViewOrder:t})})})})]}):e.jsx("div",{children:"No order id found!"})},M=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[e.jsx(L,{size:48,className:"text-gray-400 mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Orders Out For Delivery"}),e.jsx("p",{className:"text-gray-500 max-w-sm mb-6",children:"You have no orders ready for delivery at the moment."})]}),U=()=>{const[s,t]=n.useState(0),[l,o]=n.useState(5),[i,d]=n.useState(""),[c,r]=n.useState(!1),h=()=>{r(!1),d("")},O=(x,D)=>{t(D)},b=x=>{o(parseInt(x.target.value,10)),t(0)},{outForDeliveryOrders:y}=R(s,l),f=x=>{d(x),r(!0)};return e.jsxs("div",{children:[y.orders.length===0?e.jsx(M,{}):e.jsx(V,{outForDeliveryOrders:y,handleViewOrder:f,rowsPerPage:l,page:s,handleChangePage:O,handleChangeRowsPerPage:b}),e.jsx(p,{open:c,onClose:h,style:u.viewOrderModalStyle,children:e.jsx(I,{orderId:i,handleCloseViewOrder:h})})]})};export{U as default};
