import{H as f,s as h,j as e,J as c,T as x,aw as y,k as g,l as u,m as l,n as r,o as m}from"./index-D1os0LSF.js";import{T as d}from"./Typography-C35Fcnlr.js";const j=async t=>(await(await f("/staffactivity_api/")).get(`/getstaffactivitylogs/${t}`)).data,p={getStaffActivityLogs:j},b=t=>{const{data:s,isLoading:o,isError:i,error:a}=h({queryKey:["staffactivity",t],queryFn:()=>p.getStaffActivityLogs(t)});return{staffActivityLogs:s,isLoading:o,isError:i,error:a}},T=({clickedUser:t})=>{const{staffActivityLogs:s,isError:o,error:i}=b(t);return o?e.jsx(c,{className:"p-6 text-center",children:e.jsxs(d,{color:"error",variant:"body2",children:["Failed to load activity logs: ",(i==null?void 0:i.message)||"Unknown error"]})}):!s||s.length===0?e.jsx(c,{className:"p-6 text-center",children:e.jsx(d,{variant:"body2",color:"text.secondary",children:"No activity logs found for this user."})}):e.jsx(x,{component:y,className:"shadow-lg rounded-xl border border-gray-200 max-h-50",children:e.jsxs(g,{size:"small",children:[e.jsx(u,{className:"bg-gray-100",children:e.jsxs(l,{children:[e.jsx(r,{sx:{fontWeight:"bold"},children:"Action"}),e.jsx(r,{sx:{fontWeight:"bold"},children:"Order Ref"}),e.jsx(r,{sx:{fontWeight:"bold"},children:"Date/Time"})]})}),e.jsx(m,{children:s.map(a=>{var n;return e.jsxs(l,{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx(r,{children:a.action}),e.jsx(r,{children:((n=a.order)==null?void 0:n.referenceNumber)||"N/A"}),e.jsx(r,{children:new Date(a.createdAt).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"})})]},a.id)})})]})})};export{T as default};
